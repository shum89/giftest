{"version":3,"sources":["webpack:///./src/components/UI/Video.vue?dfc8","webpack:///./src/components/UI/Button.vue?fa59","webpack:///./src/components/UI/Video.vue","webpack:///./src/components/UI/Video.vue?9c59","webpack:///./src/components/UI/Video.vue?311a","webpack:///./node_modules/core-js/modules/es.array.some.js","webpack:///./node_modules/core-js/internals/array-method-is-strict.js","webpack:///./src/views/Home.vue","webpack:///./src/components/UI/Button.vue","webpack:///./src/components/UI/Button.vue?d7d4","webpack:///./src/views/Home.vue?d5e7","webpack:///./src/views/Home.vue?ab8c","webpack:///./src/views/Home.vue?9930"],"names":["class","main","modificator","ref","key","srcMp4","loop","muted","playsinline","preload","autoplay","src","type","srcGif","alt","imageAlt","setup","videoRef","value","load","name","props","String","render","$","$some","some","arrayMethodIsStrict","arrayMethodUsesToLength","STRICT_METHOD","USES_TO_LENGTH","target","proto","forced","callbackfn","this","arguments","length","undefined","fails","module","exports","METHOD_NAME","argument","method","call","gifUrl","gifMp4","getAlt","handleUpload","__scopeId","store","getters","getGif","getGifMp4","getUserName","dispatch","historyData","JSON","parse","localStorage","getItem","i","id","getData","push","setItem","stringify","components","Button","Video"],"mappings":"kHAAA,W,2DCAA,W,uDCY+C,eAAS,uB,gDAXvD,eAeS,OAfHA,MAAK,CAAG,EAAAC,KAAM,EAAAC,c,mBACf,eAYQ,SAXRC,IAAI,WACHC,IAAK,EAAAC,OACLL,MAAK,EAAG,EAAAC,KAAM,EAAAC,aAMT,cALNI,KAAA,GACAC,MAAA,GACAC,YAAA,GACAC,QAAQ,OACRC,SAAA,I,CAEE,eAAuC,UAA9BC,IAAK,EAAAN,OAAQO,KAAK,a,gBAAY,EACvC,eAAoC,OAA9BD,IAAK,EAAAE,OAASC,IAAK,EAAAC,U,2BAE3B,eAAa,qB,GCVJ,qBAAgB,CAC7BC,MAD6B,WAE3B,IAAMC,EAAgB,iBAOtB,OAHA,gBAAY,WACVA,EAASC,MAAMC,UAEV,CACLF,aAGJG,KAAM,QACNC,MAAO,CACLhB,OAAQiB,OACRT,OAAQS,OACRpB,YAAaoB,OACbrB,KAAMqB,OACNP,SAAUO,U,UCnBd,EAAOC,OAASA,EAED,U,oCCNf,IAAIC,EAAI,EAAQ,QACZC,EAAQ,EAAQ,QAAgCC,KAChDC,EAAsB,EAAQ,QAC9BC,EAA0B,EAAQ,QAElCC,EAAgBF,EAAoB,QACpCG,EAAiBF,EAAwB,QAI7CJ,EAAE,CAAEO,OAAQ,QAASC,OAAO,EAAMC,QAASJ,IAAkBC,GAAkB,CAC7EJ,KAAM,SAAcQ,GAClB,OAAOT,EAAMU,KAAMD,EAAYE,UAAUC,OAAS,EAAID,UAAU,QAAKE,O,oFCZzE,IAAIC,EAAQ,EAAQ,QAEpBC,EAAOC,QAAU,SAAUC,EAAaC,GACtC,IAAIC,EAAS,GAAGF,GAChB,QAASE,GAAUL,GAAM,WAEvBK,EAAOC,KAAK,KAAMF,GAAY,WAAc,MAAM,GAAM,Q,4DCLrD3C,MAAM,Q,GACJA,MAAM,kB,6GADb,eAOM,MAPN,EAOM,CANJ,eAKM,MALN,EAKM,CAJJ,eAEsD,GAF1CC,KAAK,QACjBC,YAAY,aACXW,OAAQ,EAAAiC,OAASzC,OAAQ,EAAA0C,OAAShC,SAAU,EAAAiC,Q,uCACjD,eAAiC,GAAxB,QAAK,+BAAE,EAAAC,uB,2FCNVjD,MAAM,SAASY,KAAK,U,wEAA5B,eAAuD,SAAvD,EAAqC,gBAKtB,GACbQ,KAAM,U,UCFR,EAAOG,OAAS,EAChB,EAAO2B,UAAY,kBAEJ,Q,yBCAA,iBAAgB,CAC7BlC,MAD6B,WAE3B,IAAMmC,EAAQ,iBAIRL,EAAS,gBAAS,kBAAMK,EAAMC,QAAQC,UACtCN,EAAS,gBAAS,kBAAMI,EAAMC,QAAQE,aACtCN,EAAS,gBAAS,WACtB,IAAMlC,EAAMqC,EAAMC,QAAQJ,OAASG,EAAMC,QAAQJ,OAArC,eAAsDG,EAAMC,QAAQG,YAApE,yBACZ,OAAOzC,KAKT,gBAAU,WACRqC,EAAMK,SAAS,eAKjB,IAAMP,EAAe,WACnB,IAAMQ,EAAcC,KAAKC,MAAMC,aAAaC,QAAQ,SAAW,MAI3DJ,EAAY/B,MAAK,SAACoC,GAAD,OAAuBA,EAAEC,KAAOZ,EAAMC,QAAQY,QAAQD,QAI3EN,EAAYQ,KAAKd,EAAMC,QAAQY,SAC/BJ,aAAaM,QAAQ,OAAQR,KAAKS,UAAUV,IAC5CN,EAAMK,SAAS,gBALbL,EAAMK,SAAS,aAQnB,MAAO,CACLL,QACAF,eACAH,SACAC,SACAC,WAGJ5B,KAAM,OACNgD,WAAY,CACVC,SACA,YAAaC,EAAA,Q,UCjDjB,EAAO/C,OAAS,EAED,gB,kCCPf","file":"js/chunk-45f8a724.f31671bf.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Video.vue?vue&type=style&index=0&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Button.vue?vue&type=style&index=0&id=40818024&scoped=true&lang=css\"","<template>\n <div :class='[main, modificator]'>\n      <video\n      ref=\"videoRef\"\n      :key=\"srcMp4\"\n      :class='[main, modificator]'\n      loop\n      muted\n      playsinline\n      preload=\"auto\"\n      autoplay\n      class='video__gif'>\n        <source :src='srcMp4' type=\"video/mp4\"><source/>\n        <img :src='srcGif' :alt='imageAlt'/>\n      </video>\n      <slot></slot>\n    </div>\n</template>\n\n<script lang='ts'>\nimport {\n  defineComponent, onActivated, Ref, ref,\n} from 'vue';\n\nexport default defineComponent({\n  setup() {\n    const videoRef: Ref = ref();\n    /**\n    keep-alive freezes video;\n     */\n    onActivated(() => {\n      videoRef.value.load();\n    });\n    return {\n      videoRef,\n    };\n  },\n  name: 'Video',\n  props: {\n    srcMp4: String,\n    srcGif: String,\n    modificator: String,\n    main: String,\n    imageAlt: String,\n  },\n});\n</script>\n\n<style>\n.video {\n  position: relative;\n  width: 100%;\n  align-self: center;\n  margin-bottom: 31px;\n}\n.video_main::before {\n  display: block;\n  content: '';\n  width: 100%;\n  padding-bottom: calc(252 * 100% / 453);\n}\n.video_history {\n  margin: 0;\n}\n.video_history::before {\n  display: block;\n  content: '';\n  width: 100%;\n  padding-bottom: calc(88 * 100% / 169);\n}\n.video__gif {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  border: 0;\n  object-fit: inherit;\n  object-position: center;\n}\n\n</style>>\n","\nimport {\n  defineComponent, onActivated, Ref, ref,\n} from 'vue';\n\nexport default defineComponent({\n  setup() {\n    const videoRef: Ref = ref();\n    /**\n    keep-alive freezes video;\n     */\n    onActivated(() => {\n      videoRef.value.load();\n    });\n    return {\n      videoRef,\n    };\n  },\n  name: 'Video',\n  props: {\n    srcMp4: String,\n    srcGif: String,\n    modificator: String,\n    main: String,\n    imageAlt: String,\n  },\n});\n","import { render } from \"./Video.vue?vue&type=template&id=586b4804&bindings={}\"\nimport script from \"./Video.vue?vue&type=script&lang=ts\"\nexport * from \"./Video.vue?vue&type=script&lang=ts\"\n\nimport \"./Video.vue?vue&type=style&index=0&lang=css\"\nscript.render = render\n\nexport default script","'use strict';\nvar $ = require('../internals/export');\nvar $some = require('../internals/array-iteration').some;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('some');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('some');\n\n// `Array.prototype.some` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.some\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD || !USES_TO_LENGTH }, {\n  some: function some(callbackfn /* , thisArg */) {\n    return $some(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n","<template>\n\n  <div class=\"home\">\n    <div class=\"home__gif-wrap\">\n      <video-gif  main=\"video\"\n      modificator=\"video_main\"\n      :srcGif=\"gifUrl\" :srcMp4=\"gifMp4\" :imageAlt='getAlt'/>\n  <Button @click='handleUpload()'/>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport {\n  computed, defineComponent, onMounted,\n} from 'vue';\nimport Button from '@/components/UI/Button.vue';\nimport Video from '@/components/UI/Video.vue';\nimport { useStore } from 'vuex';\n\nexport default defineComponent({\n  setup() {\n    const store = useStore();\n    /**\n     * get gif with different format\n     */\n    const gifUrl = computed(() => store.getters.getGif);\n    const gifMp4 = computed(() => store.getters.getGifMp4);\n    const getAlt = computed(() => {\n      const alt = store.getters.getAlt ? store.getters.getAlt : `User ${store.getters.getUserName} didn't name this GIF`;\n      return alt;\n    });\n    /**\n     * fetch gif\n     */\n    onMounted(() => {\n      store.dispatch('fetchGif');\n    });\n    /**\n     * handle  gif upload\n     */\n    const handleUpload = () => {\n      const historyData = JSON.parse(localStorage.getItem('data') || '[]');\n      /**\n       * prevent duplicate gifs\n       */\n      if (historyData.some((i: { id: string }) => i.id === store.getters.getData.id)) {\n        store.dispatch('fetchGif');\n        return;\n      }\n      historyData.push(store.getters.getData);\n      localStorage.setItem('data', JSON.stringify(historyData));\n      store.dispatch('downloadGif');\n      store.dispatch('fetchGif');\n    };\n    return {\n      store,\n      handleUpload,\n      gifUrl,\n      gifMp4,\n      getAlt,\n    };\n  },\n  name: 'Home',\n  components: {\n    Button,\n    'video-gif': Video,\n  },\n});\n</script>\n\n<style>\n.home {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 100%;\n  justify-content: center;\n  transform: translateY(-12.5px);\n}\n.home__gif-wrap {\n  width: calc(453/866 * 100%);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n@media screen and (max-width: 866px) {\n  .home {\n    transform: translateY(0);\n  }\n\n}\n\n</style>\n","<template>\n<button class=\"button\" type=\"button\">Загрузить</button>\n</template>\n\n<script>\n\nexport default {\n  name: 'Button',\n};\n</script>\n\n<style scoped>\n  .button {\n    width: 168px;\n    height: 36px;\n    background-color: #006896;\n    text-align: center;\n    font: normal normal normal 16px/19px Roboto;\n    letter-spacing: 0;\n    color: #FFFFFF;\n    border: 0;\n  }\n</style>\n","import { render } from \"./Button.vue?vue&type=template&id=40818024&scoped=true&bindings={}\"\nimport script from \"./Button.vue?vue&type=script&lang=js\"\nexport * from \"./Button.vue?vue&type=script&lang=js\"\n\nimport \"./Button.vue?vue&type=style&index=0&id=40818024&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-40818024\"\n\nexport default script","\nimport {\n  computed, defineComponent, onMounted,\n} from 'vue';\nimport Button from '@/components/UI/Button.vue';\nimport Video from '@/components/UI/Video.vue';\nimport { useStore } from 'vuex';\n\nexport default defineComponent({\n  setup() {\n    const store = useStore();\n    /**\n     * get gif with different format\n     */\n    const gifUrl = computed(() => store.getters.getGif);\n    const gifMp4 = computed(() => store.getters.getGifMp4);\n    const getAlt = computed(() => {\n      const alt = store.getters.getAlt ? store.getters.getAlt : `User ${store.getters.getUserName} didn't name this GIF`;\n      return alt;\n    });\n    /**\n     * fetch gif\n     */\n    onMounted(() => {\n      store.dispatch('fetchGif');\n    });\n    /**\n     * handle  gif upload\n     */\n    const handleUpload = () => {\n      const historyData = JSON.parse(localStorage.getItem('data') || '[]');\n      /**\n       * prevent duplicate gifs\n       */\n      if (historyData.some((i: { id: string }) => i.id === store.getters.getData.id)) {\n        store.dispatch('fetchGif');\n        return;\n      }\n      historyData.push(store.getters.getData);\n      localStorage.setItem('data', JSON.stringify(historyData));\n      store.dispatch('downloadGif');\n      store.dispatch('fetchGif');\n    };\n    return {\n      store,\n      handleUpload,\n      gifUrl,\n      gifMp4,\n      getAlt,\n    };\n  },\n  name: 'Home',\n  components: {\n    Button,\n    'video-gif': Video,\n  },\n});\n","import { render } from \"./Home.vue?vue&type=template&id=643ae2b3&bindings={}\"\nimport script from \"./Home.vue?vue&type=script&lang=ts\"\nexport * from \"./Home.vue?vue&type=script&lang=ts\"\n\nimport \"./Home.vue?vue&type=style&index=0&lang=css\"\nscript.render = render\n\nexport default script","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Home.vue?vue&type=style&index=0&lang=css\""],"sourceRoot":""}